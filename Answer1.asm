INCLUDE Irvine32.inc

CSEC SEGMENT
ASSUME CS:CSEC,DS:CSEC,SS:CSEC
ORG 100H
MAIN: JMP START
TIME PROC NEAR   ;time module
	MOV AH,2CH
	INT 21H
	RET
	TIME ENDP
START PROC NEAR  ;note of music module
	MOV AL,0B6H
	OUT 43H,AL
	MOV AX,1FB4H
	OUT 42H,AL
	MOV AL,AH
	OUT 42H,AL
	OR AL,00000011B
	OUT 61H,AL
	MOV BL,6H
BACK1:
	 MOV CX,0FFFFH
	 CALL WAIT1
	 DEC BL
	 JNZ BACK1
	 AND AL,0FCH
	 OUT 61H,AL
	 MOV CX,0FFFFH
	 CALL WAIT1
	 MOV AX,0A97H
	 OUT 42H,AL
	 MOV AL,AH
	 OUT 42,AL
	 OR AL,00000011B
	 OUT 61H,AL
	 MOV BL,3H
BACK2 :
	MOV CX,0FFFFH
	CALL WAIT1
	DEC BL
	JNZ BACK2
	AND AL,0FCH
	OUT 61H,AL
	MOV AX,4C00H
	INT 21H
START ENDP
WAIT1 PROC NEAR
	PUSH AX
	MOV AH,0
L1:
		IN AL,61H
		AND AL,10H
		CMP AL,AH
		JE L1
		MOV AH,AL
		LOOP L1
		POP AX
		RET 
WAIT1 ENDP
CSEC ENDS
END MAIN
